==2346867== Memcheck, a memory error detector
==2346867== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2346867== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==2346867== Command: ./ircserv 6667 pwd
==2346867== Parent PID: 2346851
==2346867== 
==2346867== Invalid read of size 4
==2346867==    at 0x40EE0C: Client::getClientSocket() const (Client.cpp:68)
==2346867==    by 0x413CAD: Channel::broadcastNumericReplies(unsigned long, ...) (Channel.cpp:196)
==2346867==    by 0x411CA2: Channel::addConnectedClient(Client const&) (Channel.cpp:124)
==2346867==    by 0x420EDF: Join::action[abi:cxx11](Client&) (Join.cpp:92)
==2346867==    by 0x421C39: Join::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (Join.cpp:157)
==2346867==    by 0x4089CF: Server::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:312)
==2346867==    by 0x406840: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:119)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Address 0x4de7880 is 224 bytes inside a block of size 272 free'd
==2346867==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40A19C: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (new_allocator.h:158)
==2346867==    by 0x40A164: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (alloc_traits.h:141)
==2346867==    by 0x40A019: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:565)
==2346867==    by 0x409F5D: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:632)
==2346867==    by 0x40D6B5: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2495)
==2346867==    by 0x40D4E6: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2509)
==2346867==    by 0x40D254: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_tree.h:2520)
==2346867==    by 0x40970C: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_map.h:1117)
==2346867==    by 0x4082B4: Server::removeClient(int) (Server.cpp:222)
==2346867==    by 0x406395: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:108)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Block was alloc'd at
==2346867==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40B6CF: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2346867==    by 0x40B660: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, unsigned long) (alloc_traits.h:133)
==2346867==    by 0x40B541: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_get_node() (stl_tree.h:561)
==2346867==    by 0x40B4FC: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_create_node(std::pair<int const, Client> const&) (stl_tree.h:583)
==2346867==    by 0x40B4CF: std::_Rb_tree_node<std::pair<int const, Client> >* std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node::operator()<std::pair<int const, Client> >(std::pair<int const, Client> const&) const (stl_tree.h:529)
==2346867==    by 0x40B1B3: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:1830)
==2346867==    by 0x40AD60: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:2283)
==2346867==    by 0x40ACA1: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_tree.h:1146)
==2346867==    by 0x40AC09: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::insert(std::_Rb_tree_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_map.h:912)
==2346867==    by 0x409542: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::operator[](int const&) (stl_map.h:515)
==2346867==    by 0x4080A1: Server::addClient(int, Client) (Server.cpp:204)
==2346867== 
==2346867== Invalid read of size 8
==2346867==    at 0x49C2B18: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2346867==    by 0x40EE86: Client::getNickname[abi:cxx11]() const (Client.cpp:66)
==2346867==    by 0x413E98: Channel::getUsersList[abi:cxx11]() (Channel.cpp:214)
==2346867==    by 0x412833: Channel::addConnectedClient(Client const&) (Channel.cpp:130)
==2346867==    by 0x420EDF: Join::action[abi:cxx11](Client&) (Join.cpp:92)
==2346867==    by 0x421C39: Join::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (Join.cpp:157)
==2346867==    by 0x4089CF: Server::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:312)
==2346867==    by 0x406840: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:119)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Address 0x4de7848 is 168 bytes inside a block of size 272 free'd
==2346867==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40A19C: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (new_allocator.h:158)
==2346867==    by 0x40A164: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (alloc_traits.h:141)
==2346867==    by 0x40A019: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:565)
==2346867==    by 0x409F5D: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:632)
==2346867==    by 0x40D6B5: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2495)
==2346867==    by 0x40D4E6: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2509)
==2346867==    by 0x40D254: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_tree.h:2520)
==2346867==    by 0x40970C: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_map.h:1117)
==2346867==    by 0x4082B4: Server::removeClient(int) (Server.cpp:222)
==2346867==    by 0x406395: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:108)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Block was alloc'd at
==2346867==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40B6CF: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2346867==    by 0x40B660: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, unsigned long) (alloc_traits.h:133)
==2346867==    by 0x40B541: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_get_node() (stl_tree.h:561)
==2346867==    by 0x40B4FC: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_create_node(std::pair<int const, Client> const&) (stl_tree.h:583)
==2346867==    by 0x40B4CF: std::_Rb_tree_node<std::pair<int const, Client> >* std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node::operator()<std::pair<int const, Client> >(std::pair<int const, Client> const&) const (stl_tree.h:529)
==2346867==    by 0x40B1B3: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:1830)
==2346867==    by 0x40AD60: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:2283)
==2346867==    by 0x40ACA1: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_tree.h:1146)
==2346867==    by 0x40AC09: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::insert(std::_Rb_tree_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_map.h:912)
==2346867==    by 0x409542: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::operator[](int const&) (stl_map.h:515)
==2346867==    by 0x4080A1: Server::addClient(int, Client) (Server.cpp:204)
==2346867== 
==2346867== Invalid read of size 8
==2346867==    at 0x49C2B1F: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2346867==    by 0x40EE86: Client::getNickname[abi:cxx11]() const (Client.cpp:66)
==2346867==    by 0x413E98: Channel::getUsersList[abi:cxx11]() (Channel.cpp:214)
==2346867==    by 0x412833: Channel::addConnectedClient(Client const&) (Channel.cpp:130)
==2346867==    by 0x420EDF: Join::action[abi:cxx11](Client&) (Join.cpp:92)
==2346867==    by 0x421C39: Join::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (Join.cpp:157)
==2346867==    by 0x4089CF: Server::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:312)
==2346867==    by 0x406840: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:119)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Address 0x4de7840 is 160 bytes inside a block of size 272 free'd
==2346867==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40A19C: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (new_allocator.h:158)
==2346867==    by 0x40A164: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (alloc_traits.h:141)
==2346867==    by 0x40A019: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:565)
==2346867==    by 0x409F5D: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:632)
==2346867==    by 0x40D6B5: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2495)
==2346867==    by 0x40D4E6: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2509)
==2346867==    by 0x40D254: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_tree.h:2520)
==2346867==    by 0x40970C: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_map.h:1117)
==2346867==    by 0x4082B4: Server::removeClient(int) (Server.cpp:222)
==2346867==    by 0x406395: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:108)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Block was alloc'd at
==2346867==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40B6CF: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2346867==    by 0x40B660: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, unsigned long) (alloc_traits.h:133)
==2346867==    by 0x40B541: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_get_node() (stl_tree.h:561)
==2346867==    by 0x40B4FC: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_create_node(std::pair<int const, Client> const&) (stl_tree.h:583)
==2346867==    by 0x40B4CF: std::_Rb_tree_node<std::pair<int const, Client> >* std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node::operator()<std::pair<int const, Client> >(std::pair<int const, Client> const&) const (stl_tree.h:529)
==2346867==    by 0x40B1B3: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:1830)
==2346867==    by 0x40AD60: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:2283)
==2346867==    by 0x40ACA1: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_tree.h:1146)
==2346867==    by 0x40AC09: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::insert(std::_Rb_tree_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_map.h:912)
==2346867==    by 0x409542: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::operator[](int const&) (stl_map.h:515)
==2346867==    by 0x4080A1: Server::addClient(int, Client) (Server.cpp:204)
==2346867== 
==2346867== Invalid read of size 2
==2346867==    at 0x484FF60: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x49C2AF3: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2346867==    by 0x40EE86: Client::getNickname[abi:cxx11]() const (Client.cpp:66)
==2346867==    by 0x413E98: Channel::getUsersList[abi:cxx11]() (Channel.cpp:214)
==2346867==    by 0x412833: Channel::addConnectedClient(Client const&) (Channel.cpp:130)
==2346867==    by 0x420EDF: Join::action[abi:cxx11](Client&) (Join.cpp:92)
==2346867==    by 0x421C39: Join::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (Join.cpp:157)
==2346867==    by 0x4089CF: Server::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:312)
==2346867==    by 0x406840: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:119)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Address 0x4de7850 is 176 bytes inside a block of size 272 free'd
==2346867==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40A19C: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (new_allocator.h:158)
==2346867==    by 0x40A164: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (alloc_traits.h:141)
==2346867==    by 0x40A019: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:565)
==2346867==    by 0x409F5D: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:632)
==2346867==    by 0x40D6B5: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2495)
==2346867==    by 0x40D4E6: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2509)
==2346867==    by 0x40D254: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_tree.h:2520)
==2346867==    by 0x40970C: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_map.h:1117)
==2346867==    by 0x4082B4: Server::removeClient(int) (Server.cpp:222)
==2346867==    by 0x406395: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:108)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Block was alloc'd at
==2346867==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40B6CF: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2346867==    by 0x40B660: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, unsigned long) (alloc_traits.h:133)
==2346867==    by 0x40B541: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_get_node() (stl_tree.h:561)
==2346867==    by 0x40B4FC: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_create_node(std::pair<int const, Client> const&) (stl_tree.h:583)
==2346867==    by 0x40B4CF: std::_Rb_tree_node<std::pair<int const, Client> >* std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node::operator()<std::pair<int const, Client> >(std::pair<int const, Client> const&) const (stl_tree.h:529)
==2346867==    by 0x40B1B3: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:1830)
==2346867==    by 0x40AD60: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:2283)
==2346867==    by 0x40ACA1: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_tree.h:1146)
==2346867==    by 0x40AC09: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::insert(std::_Rb_tree_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_map.h:912)
==2346867==    by 0x409542: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::operator[](int const&) (stl_map.h:515)
==2346867==    by 0x4080A1: Server::addClient(int, Client) (Server.cpp:204)
==2346867== 
==2346867== Invalid read of size 2
==2346867==    at 0x484FF6F: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x49C2AF3: void std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::_M_construct<char*>(char*, char*, std::forward_iterator_tag) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2346867==    by 0x40EE86: Client::getNickname[abi:cxx11]() const (Client.cpp:66)
==2346867==    by 0x413E98: Channel::getUsersList[abi:cxx11]() (Channel.cpp:214)
==2346867==    by 0x412833: Channel::addConnectedClient(Client const&) (Channel.cpp:130)
==2346867==    by 0x420EDF: Join::action[abi:cxx11](Client&) (Join.cpp:92)
==2346867==    by 0x421C39: Join::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (Join.cpp:157)
==2346867==    by 0x4089CF: Server::handleRequest(Client&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:312)
==2346867==    by 0x406840: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:119)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Address 0x4de7854 is 180 bytes inside a block of size 272 free'd
==2346867==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40A19C: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (new_allocator.h:158)
==2346867==    by 0x40A164: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, std::_Rb_tree_node<std::pair<int const, Client> >*, unsigned long) (alloc_traits.h:141)
==2346867==    by 0x40A019: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_put_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:565)
==2346867==    by 0x409F5D: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_drop_node(std::_Rb_tree_node<std::pair<int const, Client> >*) (stl_tree.h:632)
==2346867==    by 0x40D6B5: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2495)
==2346867==    by 0x40D4E6: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::_Rb_tree_const_iterator<std::pair<int const, Client> >) (stl_tree.h:2509)
==2346867==    by 0x40D254: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_tree.h:2520)
==2346867==    by 0x40970C: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::erase(int const&) (stl_map.h:1117)
==2346867==    by 0x4082B4: Server::removeClient(int) (Server.cpp:222)
==2346867==    by 0x406395: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:108)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867==  Block was alloc'd at
==2346867==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2346867==    by 0x40B6CF: std::__new_allocator<std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2346867==    by 0x40B660: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >, std::_Rb_tree_node<std::pair<int const, Client> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<int const, Client> > >&, unsigned long) (alloc_traits.h:133)
==2346867==    by 0x40B541: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_get_node() (stl_tree.h:561)
==2346867==    by 0x40B4FC: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_create_node(std::pair<int const, Client> const&) (stl_tree.h:583)
==2346867==    by 0x40B4CF: std::_Rb_tree_node<std::pair<int const, Client> >* std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node::operator()<std::pair<int const, Client> >(std::pair<int const, Client> const&) const (stl_tree.h:529)
==2346867==    by 0x40B1B3: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:1830)
==2346867==    by 0x40AD60: std::_Rb_tree_iterator<std::pair<int const, Client> > std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_<std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node>(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&, std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_Alloc_node&) (stl_tree.h:2283)
==2346867==    by 0x40ACA1: std::_Rb_tree<int, std::pair<int const, Client>, std::_Select1st<std::pair<int const, Client> >, std::less<int>, std::allocator<std::pair<int const, Client> > >::_M_insert_unique_(std::_Rb_tree_const_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_tree.h:1146)
==2346867==    by 0x40AC09: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::insert(std::_Rb_tree_iterator<std::pair<int const, Client> >, std::pair<int const, Client> const&) (stl_map.h:912)
==2346867==    by 0x409542: std::map<int, Client, std::less<int>, std::allocator<std::pair<int const, Client> > >::operator[](int const&) (stl_map.h:515)
==2346867==    by 0x4080A1: Server::addClient(int, Client) (Server.cpp:204)
==2346867== 
==2346867== 
==2346867== Process terminating with default action of signal 2 (SIGINT)
==2346867==    at 0x4CCAF9A: epoll_wait (epoll_wait.c:30)
==2346867==    by 0x405E4A: Server::Server(int const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (Server.cpp:68)
==2346867==    by 0x404D5D: main (main.cpp:26)
==2346867== 
==2346867== HEAP SUMMARY:
==2346867==     in use at exit: 83,930 bytes in 52 blocks
==2346867==   total heap usage: 992 allocs, 940 frees, 129,927 bytes allocated
==2346867== 
==2346867== LEAK SUMMARY:
==2346867==    definitely lost: 0 bytes in 0 blocks
==2346867==    indirectly lost: 0 bytes in 0 blocks
==2346867==      possibly lost: 0 bytes in 0 blocks
==2346867==    still reachable: 83,930 bytes in 52 blocks
==2346867==         suppressed: 0 bytes in 0 blocks
==2346867== Rerun with --leak-check=full to see details of leaked memory
==2346867== 
==2346867== For lists of detected and suppressed errors, rerun with: -s
==2346867== ERROR SUMMARY: 36 errors from 5 contexts (suppressed: 0 from 0)
